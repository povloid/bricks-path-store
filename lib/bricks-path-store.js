!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("bricks-fp")):"function"==typeof define&&define.amd?define(["bricks-fp"],t):"object"==typeof exports?exports.bricksPathStore=t(require("bricks-fp")):e.bricksPathStore=t(e["bricks-fp"])}(self,(function(e){return(()=>{"use strict";var t={83:t=>{t.exports=e}},r={};function s(e){var i=r[e];if(void 0!==i)return i.exports;var a=r[e]={exports:{}};return t[e](a,a.exports,s),a.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{s.r(i),s.d(i,{default:()=>t});var e=s(83);class t{constructor(e){this.state=e,this.listeners={},this.keySeq=0}addChangeStateListener(e){const t=this.keySeq++;return this.listeners[t]=e,t}removeChangeStateListener(e){delete this.listeners[e]}runChageListeners(e){Object.values(this.listeners).forEach((t=>t({state:this.state,path:e})))}getState(){return this.state}getStateIn(t,r){return(0,e.get)(this.state,t,r)}updateState(t,...r){return this.state=(0,e.thread)({},(0,e.assign_)(this.state),(e=>t(e,...r))),this.runChageListeners([]),this}setStateIn(t,r){return this.state=(0,e.thread)({},(0,e.assign_)(this.state),(0,e.set_)(t,r)),this.runChageListeners(t),this}updateStateIn(t,r,...s){return this.state=(0,e.thread)({},(0,e.assign_)(this.state),(0,e.update_)(t,r,...s)),this.runChageListeners(t),this}}})(),i})()}));